# Telegram Ads Bot (Deno Deploy)

Бот для:
- чтения объявлений из закрытой TG-группы,
- автоматической публикации в открытый канал,
- скрытия номеров телефонов,
- показа инструкции по оплате и выдачи номера в личку после клика по кнопке.

## Переменные окружения

На Deno Deploy (или локально через `deno task dev`) нужно задать:

- `BOT_TOKEN` — токен бота от BotFather.
- `CLOSED_CHAT_ID` — ID закрытой группы с объявлениями (отрицательное число, например `-1001234567890`).
- `PUBLIC_CHANNEL_ID` — ID открытого канала (тоже обычно отрицательное число).
- `PAYMENT_TEXT` — текст с инструкцией по оплате (опционально, по умолчанию базовый текст на русском).

## Логика

1. Бот слушает сообщения в закрытой группе `CLOSED_CHAT_ID`.
2. Ищет в тексте все телефоны и убирает их из текста (заменяет на `[номер скрыт]`).
3. Публикует очищенный текст в канал `PUBLIC_CHANNEL_ID` с кнопкой **«Показать номер телефона»**.
4. При нажатии кнопки:
   - бот отправляет пользователю в личку текст `PAYMENT_TEXT` и кнопку **«Я оплатил»**;
   - после нажатия **«Я оплатил»** бот отправляет пользователю скрытый номер (номера) телефона.

Проверка факта оплаты в этом шаблоне не автоматизирована — бот верит пользователю, что он оплатил.
При желании можно доработать связку с платёжной системой и проверкой оплаты.